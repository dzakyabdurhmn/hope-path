generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model debt {
  id     Int      @id @default(autoincrement())
  userId Int
  date   DateTime @default(now())
  amount Float
  type   String
  note   String?
  user   user     @relation(fields: [userId], references: [id])

  @@index([userId])
}

model rehabilitation {
  id       Int     @id @default(autoincrement())
  provinsi String?
  name     String?
  type     String?  // Values: "Rawat_Inap", "Rehabilitasi_Narkoba_Rawat_Jalan"
}

model task {
  id       Int        @id @default(autoincrement())
  name     String
  points   Int
  body     String
  usertask usertask[]
}

model user {
  id          Int        @id @default(autoincrement())
  createdAt   DateTime   @default(now())
  clerkUserId String?    @unique
  place       String
  debt        debt[]
  usertask    usertask[]
}

model usertask {
  id        Int      @id @default(autoincrement())
  taskId    Int
  note      String
  userId    Int
  createdAt DateTime @default(now())
  user      user     @relation(fields: [userId], references: [id])
  task      task     @relation(fields: [taskId], references: [id])

  @@index([userId])
  @@index([taskId])
}